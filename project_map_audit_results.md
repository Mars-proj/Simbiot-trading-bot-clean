# Project Map: Audit Results

This file contains the results of the audit of the trading bot system's modules, including Core Trading Logic, Supporting Modules, and Additional Modules. Each entry includes the module name, its usage status, recommendations, useful settings (if any), and remarks.

## Audit Results
- **2025-03-28**: Модуль `json_handler.py` используется в системе (зависимость от `trade_executor_core.py`). Рекомендуется сохранить. Полезных настроек нет, но функции `dumps` и `loads` важны для сериализации данных. Замечание: В графе зависимостей указана связь `json_handler -> logging_setup`, но в коде этой зависимости нет. Удалена связь 2025-03-28.
- **2025-03-28**: Модуль `config_keys.py` используется в системе (зависимости от `start_trading_all.py`, `bot_user_data.py`). Рекомендуется сохранить. Полезные настройки: `API_KEYS` (хранит API-ключи для пользователей), `PREFERRED_EXCHANGES` (предпочтительные биржи для пользователей), `SUPPORTED_EXCHANGES` (список поддерживаемых бирж: `['mexc', 'binance', 'bybit', 'kucoin', 'okx']`).
- **2025-03-28**: Замечание: В графе зависимостей (`trading_bot_graph.dot`) отсутствует связь `config_keys.py` -> `logging_setup.py`, хотя `validate_api_keys` использует `logger_main`. Добавлена зависимость в граф 2025-03-28.
- **2025-03-29**: Модуль `bot_translations.py` удалён, так как Telegram-бот не интегрирован в текущую систему. Полезные настройки (переводы) сохранены ниже. Рекомендация: Восстановить модуль при интеграции Telegram-бота.
- **2025-03-29**: Модуль `config_notifications.py` удалён, так как уведомления не используются в текущей системе. Полезные настройки сохранены ниже. Рекомендация: Восстановить модуль при интеграции уведомлений.
- **2025-03-29**: Модуль `trade_blacklist.py` удалён, так как его функциональность дублируется модулем `signal_blacklist.py`. Полезные настройки сохранены ниже. Рекомендация: Использовать `signal_blacklist.py` для фильтрации символов.
- **2025-03-29**: Модуль `trade_executor_core.py` используется в системе (зависимость от `bot_trading.py`). Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить проверку входных данных (`signal`, `amount`, `leverage`); 2) Интегрировать `limits.py` для управления рисками; 3) Улучшить логирование (добавить `amount`, `price`); 4) Добавить обработку ошибок для `fetch_ticker`; 5) Добавить поддержку других типов ордеров (рыночные ордера).
- **2025-03-29**: Модуль `bot_trading.py` используется в системе (зависимость от `start_trading_all.py`). Рекомендуется сохранить. Рекомендации по улучшению: 1) Интегрировать `trade_executor_signals.py` для получения реальных сигналов; 2) Добавить проверку входных данных (`user_id`, `symbol`); 3) Добавить управление рисками через `limits.py`; 4) Улучшить логирование (добавить информацию о сигнале и параметрах сделки).
- **2025-03-29**: Модуль `start_trading_all.py` используется в системе. Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить проверку входных данных (`user_id`, `symbols`); 2) Добавить управление рисками через `limits.py`; 3) Улучшить логирование (добавить результаты для каждого символа); 4) Улучшить обработку ошибок в `asyncio.gather`.
- **2025-03-29**: Модуль `check_all_trades.py` используется в системе. Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить валидацию API-ключей через `validate_api_keys`; 2) Улучшить логирование (добавить информацию о типах сделок: buy/sell); 3) Добавить проверку возвращаемых данных (`trades`).
- **2025-03-29**: Модуль `check_trades.py` используется в системе. Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить валидацию API-ключей через `validate_api_keys`; 2) Добавить проверку символа через `load_markets`; 3) Улучшить логирование (добавить информацию о типах сделок: buy/sell).
- **2025-03-29**: Модуль `deposit_manager.py` не используется в текущей системе, но может быть полезен. Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить валидацию API-ключей через `validate_api_keys`; 2) Добавить проверку символа через `load_markets`; 3) Улучшить логирование (добавить информацию о валюте и общем балансе).
- **2025-03-29**: Модуль `exchange_factory.py` используется в системе (зависимости от `check_all_trades.py`, `check_trades.py`). Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить валидацию API-ключей через `validate_api_keys`; 2) Добавить поддержку дополнительных параметров для настройки биржи; 3) Улучшить логирование (добавить информацию о конфигурации).
- **2025-03-29**: Модуль `exchange_setup.py` используется в системе (зависимость от `ohlcv_fetcher.py`). Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить поддержку дополнительных параметров для настройки биржи; 2) Улучшить логирование (добавить информацию о конфигурации).
- **2025-03-29**: Модуль `exchange_utils.py` используется в системе (зависимость от `market_rentgen_core.py`). Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить проверку входных данных (`exchange` должен быть объектом `ccxt.async_support`); 2) Улучшить логирование (добавить информацию о возвращаемых данных: `bid`, `ask`).
- **2025-03-29**: Модуль `order_utils.py` используется в системе. Рекомендуется сохранить. Рекомендации по улучшению: 1) Добавить проверку входных данных (`exchange` должен быть объектом `ccxt.async_support`); 2) Добавить поддержку рыночных ордеров через параметр `order_type`; 3) Улучшить логирование (добавить информацию о `order_id`).
- **2025-03-29**: Модуль `async_exchange_fetcher.py` удалён, так как его функциональность дублируется модулями `exchange_utils.py` и `ohlcv_fetcher.py`. Рекомендация: Использовать `exchange_utils.py` для получения данных с биржи.
- **2025-03-29**: Модуль `async_exchange_manager.py` удалён, так как его функциональность дублируется модулями `exchange_factory.py` и `exchange_setup.py`. Рекомендация: Использовать `exchange_factory.py` для создания экземпляров бирж.
- **2025-03-29**: Модуль `async_order_fetcher.py` удалён, так как его функциональность может быть перенесена в `order_utils.py`. Рекомендация: Добавить функцию `fetch_open_orders` в `order_utils.py`.
- **2025-03-29**: Модуль `async_ticker_fetcher.py` удалён, так как его функциональность дублируется модулем `exchange_utils.py`. Рекомендация: Использовать `fetch_ticker` из `exchange_utils.py`.
- **2025-03-29**: Модуль `async_ohlcv_fetcher.py` удалён, так как его функциональность дублируется модулем `ohlcv_fetcher.py`. Рекомендация: Использовать `fetch_ohlcv` из `ohlcv_fetcher.py`.

## Useful Settings from Removed Modules
- **bot_translations.py** (removed 2025-03-29):
